{
  "info": {
    "name": "Complete Product Management System",
    "description": "Test all product management features: CRUD, Inventory, Categories, Bulk Operations, Excel Import/Export",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000/api",
      "type": "string"
    },
    {
      "key": "superAdminToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "adminToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "testProductId",
      "value": "",
      "type": "string"
    },
    {
      "key": "testCategoryId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "1. Categories Management",
      "item": [
        {
          "name": "Get All Categories (Public)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/products/categories",
              "host": ["{{baseUrl}}"],
              "path": ["products", "categories"]
            }
          }
        },
        {
          "name": "Create Category",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Electronics\",\n  \"description\": \"Electronic devices and gadgets\",\n  \"is_active\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/products/categories",
              "host": ["{{baseUrl}}"],
              "path": ["products", "categories"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.to.have.status(201)) {",
                  "    const responseJson = pm.response.json();",
                  "    if (responseJson.data && responseJson.data.category && responseJson.data.category.id) {",
                  "        pm.collectionVariables.set('testCategoryId', responseJson.data.category.id);",
                  "    }",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Update Category",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Electronics & Gadgets\",\n  \"description\": \"Updated description for electronic devices\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/products/categories/{{testCategoryId}}",
              "host": ["{{baseUrl}}"],
              "path": ["products", "categories", "{{testCategoryId}}"]
            }
          }
        },
        {
          "name": "Get Category by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/products/categories/{{testCategoryId}}",
              "host": ["{{baseUrl}}"],
              "path": ["products", "categories", "{{testCategoryId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "2. Product CRUD Operations",
      "item": [
        {
          "name": "Create Product",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"iPhone 15 Pro\",\n  \"description\": \"Latest iPhone with advanced features\",\n  \"short_description\": \"Premium smartphone with A17 Pro chip\",\n  \"category_id\": \"{{testCategoryId}}\",\n  \"price\": 999.99,\n  \"sale_price\": 899.99,\n  \"cost_price\": 700.00,\n  \"quantity\": 50,\n  \"min_quantity\": 5,\n  \"max_quantity\": 200,\n  \"track_quantity\": true,\n  \"allow_backorder\": false,\n  \"status\": \"active\",\n  \"is_featured\": true,\n  \"is_digital\": false,\n  \"meta_title\": \"iPhone 15 Pro - Premium Smartphone\",\n  \"meta_description\": \"Buy the latest iPhone 15 Pro with advanced A17 Pro chip\",\n  \"tags\": [\"smartphone\", \"apple\", \"iphone\", \"premium\"],\n  \"featured_image\": \"https://example.com/iphone15pro.jpg\",\n  \"gallery_images\": [\n    \"https://example.com/iphone15pro-1.jpg\",\n    \"https://example.com/iphone15pro-2.jpg\"\n  ],\n  \"weight\": 0.221,\n  \"length\": 15.97,\n  \"width\": 7.67,\n  \"height\": 0.83,\n  \"shipping_class\": \"standard\",\n  \"attributes\": [\n    {\n      \"name\": \"Color\",\n      \"value\": \"Space Black\"\n    },\n    {\n      \"name\": \"Storage\",\n      \"value\": \"256GB\"\n    }\n  ],\n  \"variants\": [\n    {\n      \"name\": \"256GB Space Black\",\n      \"price\": 999.99,\n      \"quantity\": 25,\n      \"attributes\": {\n        \"color\": \"Space Black\",\n        \"storage\": \"256GB\"\n      },\n      \"is_active\": true\n    },\n    {\n      \"name\": \"512GB Space Black\",\n      \"price\": 1199.99,\n      \"quantity\": 15,\n      \"attributes\": {\n        \"color\": \"Space Black\",\n        \"storage\": \"512GB\"\n      },\n      \"is_active\": true\n    }\n  ]\n}"